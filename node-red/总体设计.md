参照zigbee2mqtt脚本包，设计全套node-red脚本包，包括：install.sh，start.sh，stop.sh，status.sh，update.sh，uninstall.sh，autocheck.sh，backup.sh, common_paths.sh, MQTT_info.md, restore.sh

service id: node-red
脚本功能
install.sh    安装 node-red服务
start.sh    启动 node-red服务
stop.sh    停止 node-red服务，恢复 .disabled
status.sh    查询服务运行状态，通过服务的进程pid和端口号1880
update.sh    升级node-red
uninstall.sh    卸载node-red环境和配置
autocheck.sh    单服务自检、性能监控



node-red的：
#### 1 在isgservicemonitor下启停命令：

   - 启动：echo u > /data/data/com.termux/files/usr/var/service/node-red/supervise/control
   - 停止：echo d > /data/data/com.termux/files/usr/var/service/node-red/supervise/control

#### 2 node-red的安装命令

##### 安装：

```shell
proot-distro login ubuntu << EOF
  pnpm add -g node-red@4.0.9
EOF

mkdir -p $PREFIX/var/service/node-red/supervise
touch $PREFIX/var/service/node-red/down
echo  '#!/data/data/com.termux/files/usr/bin/sh
exec proot-distro login ubuntu << EOF
  /root/.pnpm-global/node-red
EOF
2>&1
fi
```



其中，4.0.9 为版本号

##### 验证版本

cat ~/.pnpm-global/global/5/node_modules/node-red/package.json | grep '"version"' | sed -E 's/.*"version": *"([^"]+)".*/\1/'

#### 3. 升级 node-red到最新版

```shell
proot-distro login ubuntu << EOF
  pnpm up -g node-red@4.0.9
EOF
```

其中,4.0.9 为版本号


